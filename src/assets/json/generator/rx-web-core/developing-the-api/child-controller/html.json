{"rightSidebarLinks":[{"id":"child-controller","title":"Child Controller","subLink":null},{"id":"childcontroller","title":"Child Controller","subLink":[{"title":"Generate a Child Controller","id":"generateachildcontroller","thirdLevelLink":[]},{"title":"Methods","id":"methods","thirdLevelLink":[]},{"title":"Complete Example of Child Controller","id":"completeexampleofchildcontroller","thirdLevelLink":[]}]}],"title":"Child Controller","description":"","validatorType":"decorators","validationTypeTitle":"Decorators","type":"simple","gitDocPath":"https://github.com/rxweb/rxweb.io/edit/master/docs/rx-web-core/developing-the-api/child-controller.md","category":"rxwebcore","subCategory":"developing-the-api","linkTitle":"child-controller","tabArray":{},"innerHtml":null,"htmlContent":"<div class='row page-section' id= 'childcontroller'>\r\n<div class='col-lg-12'>\r\n<h1 class=title-level-1>Child Controller</h1>\r\n\r\n<p class='showHideElement' >While working with entities which are depending on a larger entity. It becomes important to manage the data using a shared key. It is managed using parent and child controller.</p>\r\n<p class='showHideElement' >The data operations which are to be performed on CandidateAvailabilities entity(Based upon the ResourceContext and ResourceUow created) will be done based upon the record of a particular candidate which will be retrieved from its parent Candidate Controller. </p>\r\n<p class='showHideElement' >The controller must be inherited from the class <span class='highlighted'>BaseChildController</span> in which  <span class='highlighted'>Model</span>, <span class='highlighted'>View</span> and <span class='highlighted'>RecordView</span> related to that child entity are passed as a parameter. The controller will have a predefined route which include the parent controller name followed by id and child controller name. For example: <span class='highlighted'>[Route(\"api/Candidate/{CandidateId}/CandidateAvailabilities\")]</span></p>\r\n<blockquote class='showHideElement' ><p>Name of that child controller must have a suffix \"Controller\". For example: <span class='highlighted'>CandidateAvailabilitiesController</span>.</p></blockquote>\r\n<a role=\"button\" target=\"_blank\" class=\"git-link-button\" href=\"https://github.com/rxweb/RxWebCore/blob/master/src/Samples/AspNetCore/Documentation%20Examples/HumanResourceApplication/HumanResourceApplication.Api/Controllers/Api/CandidateModule/CandidateAvailabilitiesController.cs\"><span style=\"vertical-align: middle\">Download the Code</span><img class=\"_3-99 img\" src=\"https://scontent.famd5-1.fna.fbcdn.net/v/t39.2365-6/21630666_872184906282544_8997395837269049344_n.png?_nc_cat=106&amp;_nc_ohc=ixvAzbNREvgAX9AAb7C&amp;_nc_ht=scontent.famd5-1.fna&amp;oh=738ee91e1ae8331712186222788828a0&amp;oe=5ED55A8A\" height=\"25\" alt=\"\" style=\"vertical-align:middle;margin-left: 4px;max-width: 654px;\"></a>\r\n</div></div>\r\n<div class='row page-section' id= 'generateachildcontroller'>\r\n<div class='col-lg-12'>\r\n<h2 class=title-level-2>Generate a Child Controller</h2>\r\n\r\n<p class='showHideElement' >To Create a child controller, open the <span class='highlighted'>Package Manager Console</span> and run the following command:</p>\r\n<blockquote class='showHideElement' ><p>rxwebcore --controller --basic --main &ltChild_Controller_Name&gt --uow &ltModule_Name&gt --parent &ltParent_Controller_Name&gt</p></blockquote>\r\n<p class='showHideElement' >Let's consider a scenario where you want a <span class='highlighted'>CandidateAvailabilitiesController</span> as a child controller and <span class='highlighted'>CandidateController</span> as the parent Controller in the <span class='highlighted'>ResourceModule</span>, you have to write:</p>\r\n<blockquote class='showHideElement' ><p>rxwebcore --controller --basic --main CandidateAvailabilities --uow Resource --parent Candidates</p></blockquote>\r\n<p class='showHideElement' >In the above command, <span class='highlighted'>child</span> is the type of controller, <span class='highlighted'>CandidateAvailabilities</span> is the name of the child controller, <span class='highlighted'>Candidates</span> is the name of the parent controller and the last parameter <span class='highlighted'>Resource</span> is the name of the module. This command will create a child controller named as \"CandidateAvailabilitiesController\" under the Api section of the project inside the same \"Resource\" module folder. </p>\r\n<blockquote class='showHideElement' ><p>If you want to create a domain child controller, run the below command :  </p></blockquote>\r\n<blockquote class='showHideElement' ><p>rxwebcore --controller --domain --main &ltChild_Controller_Name&lt --uow &ltModule_Name&gt --parent &ltParent_Controller_Name&gt</p></blockquote>\r\n</div></div>\r\n<div class='row page-section' id= 'methods'>\r\n<div class='col-lg-12'>\r\n<h2 class=title-level-2>Methods</h2>\r\n\r\n<p class='showHideElement' ><span class='highlighted'>BaseChildController</span> is inherited by <span class='highlighted'>ControllerBase</span> and contain various methods used for Data interaction such as Get, Put, Post, Patch and Delete. These methods are always public methods of the Controller as the child controller class methods must be publically accessible to the specific action of the of the Controller. </p>\r\n<p class='showHideElement' >There are mainly 6 methods used for the Child Controller which needs to be there in the BaseChildController which are as follows: </p>\r\n<table class=\"table table-bordered\">\r\n<tr><th>Method</th><th>Return Type</th><th>Request Params</th><th>Request Body</th><th>Response</th></tr>\r\n<tr><td>Get</td><td>IActionResult</td><td> - </td><td> - </td><td>complete list of that entity which binds the shared key of parent and child entity</td></tr>\r\n<tr><td>GetById</td><td>IActionResult</td><td>Id of that entity which you want to get</td><td> - </td><td>Single entity based on the id</td></tr>\r\n<tr><td>Post</td><td>IActionResult</td><td> - </td><td>New Entity object which you want to add</td><td>Ok()</td></tr>\r\n<tr><td>Put</td><td>IActionResult</td><td>Id of that entity which you want to update</td><td>Complete entity object with the specific change which you want to update</td><td>NoContent()</td></tr>\r\n<tr><td>Patch</td><td>IActionResult</td><td>Id of that entity which you want to update</td><td>entity object only with the specific change which you want to update in the form of <span class='highlighted'>JsonPatchDocument</span></td><td>NoContent()</td></tr>\r\n<tr><td>Delete</td><td>IActionResult</td><td>Id of that entity which you want to delete</td><td> - </td><td>NoContent()</td></tr>\r\n</table>\r\n</div></div>\r\n<div class='row page-section' id= 'completeexampleofchildcontroller'>\r\n<div class='col-lg-12'>\r\n<h2 class=title-level-2>Complete Example of Child Controller</h2>\r\n\r\n<p class='showHideElement' >Here is an example of child controller:</p>\r\n<div class='model-ts'><pre><code>\r\n    [ApiController]\r\n    [Route(\"api/Customer/{CustomerId}/[controller]\")]\t\r\n\tpublic class CustomerContactController : BaseChildController&ltCustomerContact,vCustomerContact,vCustomerContactRecord&gt\r\n    {\r\n        public CustomerContactController(IMasterUow uow):base(uow) {}\r\n    }\r\n</code></pre></div>\r\n</div></div>\r\n"}