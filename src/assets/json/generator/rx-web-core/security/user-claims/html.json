{"rightSidebarLinks":[{"id":"user-claims","title":"UserClaims","subLink":null},{"id":"userclaims","title":"User Claims","subLink":[]},{"id":"jwttokengeneration","title":"Jwt token generation","subLink":[{"title":"Claim Types","id":"claimtypes","thirdLevelLink":[]}]},{"id":"nameidentifier","title":"Name Identifier","subLink":[]},{"id":"locality","title":"Locality","subLink":[{"title":"CustomClaimTypes","id":"customclaimtypes","thirdLevelLink":[]}]},{"id":"timezone","title":"TimeZone","subLink":[]},{"id":"tenantid","title":"TenantId","subLink":[]},{"id":"gettingthevalueofclaim","title":"Getting the value of claim","subLink":[{"title":"Email","id":"email","thirdLevelLink":[]},{"title":"Anonymous","id":"anonymous","thirdLevelLink":[]},{"title":"Locale","id":"locale","thirdLevelLink":[]},{"title":"CountryId","id":"countryid","thirdLevelLink":[]},{"title":"Uri","id":"uri","thirdLevelLink":[]},{"title":"UserId","id":"userid","thirdLevelLink":[]},{"title":"UserName","id":"username","thirdLevelLink":[]}]}],"title":"UserClaims","description":"","validatorType":"decorators","validationTypeTitle":"Decorators","type":"simple","gitDocPath":"https://github.com/rxweb/rxweb.io/edit/master/docs/rx-web-core/security/user-claims.md","category":"rxwebcore","subCategory":"","linkTitle":"user-claims","tabArray":{},"innerHtml":null,"htmlContent":"<div class='row page-section' id= 'userclaims'>\r\n<div class='col-lg-12'>\r\n<h1 class=title-level-1>User Claims</h1>\r\n\r\n<p class='showHideElement' >Claims are known as key components used while implementing web based authentication. Claim represents user's piece of identity information, User delivers claim to application for examination. It is subjected by an issuer. In our case, the issuer is the application. It can also be a service, a role provider, an identity provider. An isuuer delivers claims by issuing security token.  </p>\r\n</div></div>\r\n<div class='row page-section' id= 'jwttokengeneration'>\r\n<div class='col-lg-12'>\r\n<h1 class=title-level-1>Jwt token generation</h1>\r\n\r\n<p class='showHideElement' >The Jwt web token is generated with the help of the claims which are issued. It is generated using the WriteToken method of <span class='highlighted'>IJwtTokenProvider</span> of RxWeb.Core.Security namespace. Based upon the claims passed the web token will be generated and based upon them the Web API will be accessed.</p>\r\n</div></div>\r\n<div class='row page-section' id= 'claimtypes'>\r\n<div class='col-lg-12'>\r\n<h2 class=title-level-2>Claim Types</h2>\r\n\r\n<p class='showHideElement' ><span class='highlighted'>System.Security.Claims</span> provides a wide range of claims that return claim of a specific type. For detailed information about the UserClaims Please visit <a class=\"redirect-link\" href=\"https://docs.microsoft.com/en-us/dotnet/api/system.identitymodel.claims.claimtypes?view=netframework-4.8\">ClaimTypes</a>. Some of them are listed below:</p>\r\n</div></div>\r\n<div class='row page-section' id= 'nameidentifier'>\r\n<div class='col-lg-12'>\r\n<h3 class=title-level-3>Name Identifier</h3>\r\n\r\n<p class='showHideElement' >It is used to set claim which retrives the name of the entity based upon the required URL. </p>\r\n<div class='model-ts'><pre><code>\r\n    new Claim(ClaimTypes.NameIdentifier, user.UserId.ToString())\r\n</code></pre></div>\r\n</div></div>\r\n<div class='row page-section' id= 'locality'>\r\n<div class='col-lg-12'>\r\n<h3 class=title-level-3>Locality</h3>\r\n\r\n<p class='showHideElement' >It is used to set claim which retrives the locale in which the entity resides based upon the required URL. </p>\r\n<div class='model-ts'><pre><code>\r\n   new Claim(ClaimTypes.Locality,user.LanguageCode)\r\n</code></pre></div>\r\n</div></div>\r\n<div class='row page-section' id= 'customclaimtypes'>\r\n<div class='col-lg-12'>\r\n<h2 class=title-level-2>CustomClaimTypes</h2>\r\n\r\n<p class='showHideElement' >Custom claim types are used for claims based upon custom attributes such as Timezone and tenantId. These are defined as Constants in the Const folder of Models Project.</p>\r\n</div></div>\r\n<div class='row page-section' id= 'timezone'>\r\n<div class='col-lg-12'>\r\n<h3 class=title-level-3>TimeZone</h3>\r\n\r\n<p class='showHideElement' >It is used to set claim based upon the timezone which is configured in the database with respect to the user.</p>\r\n<div class='model-ts'><pre><code>\r\n\tnew Claim(CustomClaimTypes.TimeZone,user.ApplicationTimeZoneName)\r\n</code></pre></div>\r\n</div></div>\r\n<div class='row page-section' id= 'tenantid'>\r\n<div class='col-lg-12'>\r\n<h3 class=title-level-3>TenantId</h3>\r\n\r\n<p class='showHideElement' >It is used to get claims based upon the tenantId which is configured in the appsettings. You need to pass the value of the tenantId which is used as the tenantColumn name. For example, if the tenantCloumn is clientId and it should be configured as 1. You need to pass the claim as </p>\r\n<div class='model-ts'><pre><code>\r\n  new Claim(CustomClaimTypes.TenantId,(1).ToString()) \r\n</code></pre></div>\r\n</div></div>\r\n<div class='row page-section' id= 'gettingthevalueofclaim'>\r\n<div class='col-lg-12'>\r\n<h1 class=title-level-1>Getting the value of claim</h1>\r\n\r\n<p class='showHideElement' >The value of the UserClaim is retrived using the <span class='highlighted'>GetClaimValue</span> method of RxWeb.Core.Security </p>\r\n</div></div>\r\n<div class='row page-section' id= 'email'>\r\n<div class='col-lg-12'>\r\n<h2 class=title-level-2>Email</h2>\r\n\r\n<p class='showHideElement' >It is used to get the claimValue of email attribute</p>\r\n<div class='model-ts'><pre><code>\r\n  GetClaimValue(ClaimTypes.Email)\r\n</code></pre></div>\r\n</div></div>\r\n<div class='row page-section' id= 'anonymous'>\r\n<div class='col-lg-12'>\r\n<h2 class=title-level-2>Anonymous</h2>\r\n\r\n<p class='showHideElement' >It is used to check whether Anonymous claimType is set true or false</p>\r\n<div class='model-ts'><pre><code>\r\n  GetClaimValue(ClaimTypes.Anonymous)\r\n</code></pre></div>\r\n</div></div>\r\n<div class='row page-section' id= 'locale'>\r\n<div class='col-lg-12'>\r\n<h2 class=title-level-2>Locale</h2>\r\n\r\n<p class='showHideElement' >It is used to get the claimed Locale value</p>\r\n<div class='model-ts'><pre><code>\r\n  GetClaimValue(ClaimTypes.Locality)\r\n</code></pre></div>\r\n</div></div>\r\n<div class='row page-section' id= 'countryid'>\r\n<div class='col-lg-12'>\r\n<h2 class=title-level-2>CountryId</h2>\r\n\r\n<p class='showHideElement' >It is used to get the valuue of claimed Country of the user</p>\r\n<div class='model-ts'><pre><code>\r\n  GetClaimValue(ClaimTypes.Country);  \r\n</code></pre></div>\r\n</div></div>\r\n<div class='row page-section' id= 'uri'>\r\n<div class='col-lg-12'>\r\n<h2 class=title-level-2>Uri</h2>\r\n\r\n<p class='showHideElement' >It is used to get the claimed Uri value</p>\r\n<div class='model-ts'><pre><code>\r\n  GetClaimValue(ClaimTypes.Uri)\r\n</code></pre></div>\r\n</div></div>\r\n<div class='row page-section' id= 'userid'>\r\n<div class='col-lg-12'>\r\n<h2 class=title-level-2>UserId</h2>\r\n\r\n<p class='showHideElement' >It is used to get the claimed UserId value</p>\r\n<div class='model-ts'><pre><code>\r\n  GetClaimValue(ClaimTypes.NameIdentifier)\r\n</code></pre></div>\r\n</div></div>\r\n<div class='row page-section' id= 'username'>\r\n<div class='col-lg-12'>\r\n<h2 class=title-level-2>UserName</h2>\r\n\r\n<p class='showHideElement' >It is used to get the claimed name of the user </p>\r\n<div class='model-ts'><pre><code>\r\n return GetClaimValue(name);\r\n</code></pre></div>\r\n</div></div>\r\n"}